@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== CSS Variables for theming (shadcn) ===== */

:root,
[data-theme="light"] {
  --background: 220 30% 85%;
  --foreground: 220 30% 15%;
  --card: 220 35% 80%;
  --card-foreground: 220 30% 15%;
  --popover: 220 30% 82%;
  --popover-foreground: 220 30% 15%;
  --primary: 220 60% 45%;
  --primary-foreground: 0 0% 100%;
  --secondary: 270 40% 70%;
  --secondary-foreground: 270 30% 20%;
  --muted: 220 25% 75%;
  --muted-foreground: 220 20% 35%;
  --accent: 35 75% 60%;
  --accent-foreground: 35 80% 15%;
  --destructive: 0 70% 55%;
  --destructive-foreground: 0 0% 100%;
  --border: 220 20% 20%;
  --input: 220 30% 78%;
  --ring: 220 60% 45%;
  --radius: 0.5rem;
  --info: 200 70% 50%;
  --success: 150 60% 45%;
  --warning: 40 80% 55%;
  --error: 0 70% 55%;
  /* Tableau-inspired categorical palette (20 colors) */
  --cat-1: #4e79a7;
  --cat-2: #a0cbe8;
  --cat-3: #f28e2b;
  --cat-4: #ffbe7d;
  --cat-5: #59a14f;
  --cat-6: #8cd17d;
  --cat-7: #b6992d;
  --cat-8: #f1ce63;
  --cat-9: #499894;
  --cat-10: #86bcb6;
  --cat-11: #e15759;
  --cat-12: #ff9d9a;
  --cat-13: #79706e;
  --cat-14: #bab0ac;
  --cat-15: #d37295;
  --cat-16: #fabfd2;
  --cat-17: #b07aa1;
  --cat-18: #d4a6c8;
  --cat-19: #9d7660;
  --cat-20: #d7b5a6;
  --cat-fg-1: #ffffff;
  --cat-fg-2: #1f2937;
  --cat-fg-3: #ffffff;
  --cat-fg-4: #1f2937;
  --cat-fg-5: #ffffff;
  --cat-fg-6: #1f2937;
  --cat-fg-7: #ffffff;
  --cat-fg-8: #1f2937;
  --cat-fg-9: #ffffff;
  --cat-fg-10: #1f2937;
  --cat-fg-11: #ffffff;
  --cat-fg-12: #1f2937;
  --cat-fg-13: #ffffff;
  --cat-fg-14: #1f2937;
  --cat-fg-15: #ffffff;
  --cat-fg-16: #1f2937;
  --cat-fg-17: #ffffff;
  --cat-fg-18: #1f2937;
  --cat-fg-19: #ffffff;
  --cat-fg-20: #1f2937;
  
  /* Depth/Surface system - blue tones with clear distinction */
  --surface-0: 220 25% 82%;  /* Page background - muted blue-gray */
  --surface-1: 225 40% 90%;  /* Level 1 - light periwinkle */
  --surface-2: 220 45% 85%;  /* Level 2 - soft blue */
  --surface-3: 215 50% 78%;  /* Level 3 - medium blue */
  --surface-4: 210 55% 72%;  /* Level 4 - deeper blue */
  
  /* Dropdown/popover specific */
  --dropdown: 225 45% 92%;  /* Light blue for dropdowns */
  
  /* Neobrutalism variables */
  --main: 220 35% 82%;
  --main-foreground: 220 30% 15%;
  --secondary-background: 225 40% 80%;
  --overlay: 0 0% 0% / 0.5;
  --radius-base: 0.5rem;
  --shadow: 4px 4px 0px 0px hsl(220 20% 20%);
  --box-shadow-x: 4px;
  --box-shadow-y: 4px;
  --reverse-box-shadow-x: -4px;
  --reverse-box-shadow-y: -4px;
  
  color-scheme: light;
}

[data-theme="dark"] {
  --background: 225 40% 8%;
  --foreground: 220 20% 92%;
  --card: 225 45% 14%;
  --card-foreground: 220 20% 92%;
  --popover: 225 40% 10%;
  --popover-foreground: 220 20% 92%;
  --primary: 210 70% 55%;
  --primary-foreground: 0 0% 100%;
  --secondary: 280 50% 55%;
  --secondary-foreground: 0 0% 100%;
  --muted: 225 35% 18%;
  --muted-foreground: 220 20% 65%;
  --accent: 25 85% 50%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 70% 50%;
  --destructive-foreground: 0 0% 100%;
  --border: 225 30% 5%;
  --input: 225 40% 16%;
  --ring: 210 70% 55%;
  --info: 200 80% 55%;
  --success: 160 70% 40%;
  --warning: 35 90% 50%;
  --error: 0 70% 50%;
  /* Tableau-inspired categorical palette (20 colors) */
  --cat-1: #4e79a7;
  --cat-2: #a0cbe8;
  --cat-3: #f28e2b;
  --cat-4: #ffbe7d;
  --cat-5: #59a14f;
  --cat-6: #8cd17d;
  --cat-7: #b6992d;
  --cat-8: #f1ce63;
  --cat-9: #499894;
  --cat-10: #86bcb6;
  --cat-11: #e15759;
  --cat-12: #ff9d9a;
  --cat-13: #79706e;
  --cat-14: #bab0ac;
  --cat-15: #d37295;
  --cat-16: #fabfd2;
  --cat-17: #b07aa1;
  --cat-18: #d4a6c8;
  --cat-19: #9d7660;
  --cat-20: #d7b5a6;
  --cat-fg-1: #ffffff;
  --cat-fg-2: #0f172a;
  --cat-fg-3: #ffffff;
  --cat-fg-4: #0f172a;
  --cat-fg-5: #ffffff;
  --cat-fg-6: #0f172a;
  --cat-fg-7: #ffffff;
  --cat-fg-8: #0f172a;
  --cat-fg-9: #ffffff;
  --cat-fg-10: #0f172a;
  --cat-fg-11: #ffffff;
  --cat-fg-12: #0f172a;
  --cat-fg-13: #ffffff;
  --cat-fg-14: #0f172a;
  --cat-fg-15: #ffffff;
  --cat-fg-16: #0f172a;
  --cat-fg-17: #ffffff;
  --cat-fg-18: #0f172a;
  --cat-fg-19: #ffffff;
  --cat-fg-20: #0f172a;
  
  /* Depth/Surface system - deep rich blues with color accents */
  --surface-0: 225 40% 8%;   /* Page background - deep navy */
  --surface-1: 220 50% 14%;  /* Level 1 - rich blue */
  --surface-2: 215 55% 20%;  /* Level 2 - brighter blue */
  --surface-3: 210 60% 26%;  /* Level 3 - vibrant blue */
  --surface-4: 200 65% 32%;  /* Level 4 - teal-blue */
  
  /* Dropdown/popover specific */
  --dropdown: 215 55% 22%;  /* Deep blue for dropdowns */
  
  /* Neobrutalism variables */
  --main: 225 45% 14%;
  --main-foreground: 220 20% 92%;
  --secondary-background: 220 50% 16%;
  --overlay: 0 0% 0% / 0.7;
  --radius-base: 0.5rem;
  --shadow: 4px 4px 0px 0px hsl(225 30% 5%);
  --box-shadow-x: 4px;
  --box-shadow-y: 4px;
  --reverse-box-shadow-x: -4px;
  --reverse-box-shadow-y: -4px;
  
  color-scheme: dark;
}

/* ===== Font Mode Variables ===== */
/* Switch display font based on user preference */

:root,
[data-font="pt-serif"] {
  --font-display: var(--font-pt-serif);
}

[data-font="rethink"] {
  --font-display: var(--font-rethink);
}

/* ===== Style Mode Variables ===== */
/* These override the base neobrutalism variables based on style preference */

/* Neo mode (default) - bold brutalist styling */
[data-style="neo"],
:root {
  --border-width: 2px;
  --card-shadow: 4px 4px 0px 0px hsl(var(--border));
  --card-border-color: 0 0% 0%;
  --button-translate-x: 4px;
  --button-translate-y: 4px;
  --hover-transform: translate(var(--button-translate-x), var(--button-translate-y));
}

/* Clean mode - softer, modern shadcn styling */
[data-style="clean"] {
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --box-shadow-x: 0px;
  --box-shadow-y: 0px;
  --reverse-box-shadow-x: 0px;
  --reverse-box-shadow-y: 0px;
  --border-width: 1px;
  --card-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --card-border-color: var(--border);
  --button-translate-x: 0px;
  --button-translate-y: 0px;
}

/* Dark mode overrides for clean style */
[data-theme="dark"][data-style="clean"] {
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
  --card-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.2), 0 2px 4px -2px rgb(0 0 0 / 0.2);
}

/* ===== Base layer ===== */
@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased font-sans;
  }

  h1 {
    @apply font-display text-4xl sm:text-5xl font-bold tracking-tight;
  }

  h2 {
    @apply font-display text-2xl sm:text-3xl font-bold tracking-tight;
  }

  h3 {
    @apply font-display text-xl sm:text-2xl font-bold;
  }

  h4 {
    @apply font-display text-lg sm:text-xl font-bold;
  }
}

/* ===== Page layout utilities ===== */
.text-page-structure {
  @apply mx-auto max-w-screen-xl px-4 py-16 lg:flex flex flex-1 flex-col items-center w-11/12 pt-2;
}

.text-page-structure > h1 {
  @apply text-primary text-4xl/[3rem] sm:text-5xl/[4rem] text-center;
}

.subtitle-structure {
  @apply w-full md:w-5/6 space-y-24 pb-8;
}

.subtitle-structure p {
  @apply text-center mx-auto mt-4 text-xl/relaxed;
}

.general-classes {
  @apply text-left pt-4 pb-32 md:py-16;
}

.name-classes {
  @apply font-display font-bold text-3xl/[3rem];
}

.title-classes {
  @apply font-display font-bold text-2xl sm:text-3xl text-primary;
}

.description-classes {
  @apply mt-4 pb-4 text-xl/relaxed;
}

.hero-content {
  @apply flex flex-col lg:flex-row items-center gap-8 p-4;
}

/* Selection */
::selection {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/* Global scrollbar styling â€“ overlay scrollbar that takes no layout space.
   100vw includes the scrollbar gutter, so the body extends behind it
   and the scrollbar floats over content instead of pushing it. */
body {
  width: 100vw;
}

* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.35) transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted-foreground) / 0.3);
  border-radius: 9999px;
  border: 1px solid transparent;
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.45);
}

/* Neo Brutalist Button Shimmer Animation */
@keyframes neo-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(300%);
  }
}

.neo-shimmer {
  transform: translateX(-100%);
}

.neo-brutalist-btn:hover .neo-shimmer {
  animation: neo-shimmer 0.4s ease-out forwards;
}

/* ===== Legacy compatibility (migrate to shadcn components) ===== */
@layer components {
  /* Matches shadcn Input */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm;
    @apply placeholder:text-muted-foreground;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
  }

  .input-bordered {
    @apply border-border;
  }

  /* Matches shadcn Button */
  .btn {
    @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
    @apply h-10 px-4 py-2 bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .btn-accent {
    @apply bg-accent text-accent-foreground hover:bg-accent/80;
  }

  .btn-error {
    @apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
  }

  .btn-success {
    @apply bg-green-600 text-white hover:bg-green-700;
  }

  .btn-outline {
    @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-accent hover:text-accent-foreground;
  }

  .btn-sm {
    @apply h-8 px-3 text-xs;
  }

  .btn-lg {
    @apply h-11 px-8;
  }

  .btn-circle {
    @apply rounded-full p-0 h-8 w-8;
  }

  /* Matches shadcn Dialog styling */
  .modal-box {
    @apply bg-card text-card-foreground rounded-lg shadow-lg p-6 max-w-md w-full mx-4;
  }
}
